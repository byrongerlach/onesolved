<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title> - One Problem Solved</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="" />
<meta property="og:description" content="Comparing Things in C# Comparing Reference Types Common ways to compare reference types in C# are:
 The &ldquo;==&rdquo; operator .Equals Comparator  The == operator MSDN: https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/equality-comparison-operator
&ldquo;For predefined value types, the equality operator (==) returns true if the values of its operands are equal, false otherwise. For reference types other than string, == returns true if its two operands refer to the same object. For the string type, == compares the values of the strings." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://onesolved.com/post/csharp_comparisons/" /><meta property="article:section" content="post" />




	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="icon" href="/img/avatar_pipe.png">
	
	<link rel="apple-touch-icon-precomposed" sizes="57x57" href="http://www.onesolved.com/img/apple-touch-icon-57x57.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://www.onesolved.com/img/apple-touch-icon-114x114.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://www.onesolved.com/img/apple-touch-icon-72x72.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://www.onesolved.com/img/apple-touch-icon-144x144.png" />
	<link rel="apple-touch-icon-precomposed" sizes="60x60" href="http://www.onesolved.com/img/apple-touch-icon-60x60.png" />
	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://www.onesolved.com/img/apple-touch-icon-120x120.png" />
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://www.onesolved.com/img/apple-touch-icon-76x76.png" />
	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://www.onesolved.com/img/apple-touch-icon-152x152.png" />
	<link rel="icon" type="image/png" href="http://www.onesolved.com/img/favicon-196x196.png" sizes="196x196" />
	<link rel="icon" type="image/png" href="http://www.onesolved.com/img/favicon-96x96.png" sizes="96x96" />
	<link rel="icon" type="image/png" href="http://www.onesolved.com/img/favicon-32x32.png" sizes="32x32" />
	<link rel="icon" type="image/png" href="http://www.onesolved.com/img/favicon-16x16.png" sizes="16x16" />
	<link rel="icon" type="image/png" href="http://www.onesolved.com/img/favicon-128.png" sizes="128x128" />
	<meta name="application-name" content="One Problem Solved"/>
	<meta name="msapplication-TileColor" content="#FFFFFF" />
	<meta name="msapplication-TileImage" content="http://www.onesolved.com/img/mstile-144x144.png" />
	<meta name="msapplication-square70x70logo" content="http://www.onesolved.com/img/mstile-70x70.png" />
	<meta name="msapplication-square150x150logo" content="http://www.onesolved.com/img/mstile-150x150.png" />
	<meta name="msapplication-wide310x150logo" content="http://www.onesolved.com/img/mstile-310x150.png" />
	<meta name="msapplication-square310x310logo" content="http://www.onesolved.com/img/mstile-310x310.png" />
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="One Problem Solved" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/img/avatar_pipe.png">
				</div><div class="logo__item logo__text">
					<div class="logo__title">One Problem Solved</div>
					<div class="logo__tagline">All problems solved? Not quite...</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title"></h1>
			
		</header><div class="content post__content clearfix">
			<h1 id="comparing-things-in-c">Comparing Things in C#</h1>
<h2 id="comparing-reference-types">Comparing Reference Types</h2>
<p>Common ways to compare reference types in C# are:</p>
<ol>
<li>The &ldquo;==&rdquo; operator</li>
<li>.Equals</li>
<li>Comparator</li>
</ol>
<h3 id="the--operator">The == operator</h3>
<p>MSDN: 
<a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/equality-comparison-operator">https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/equality-comparison-operator</a></p>
<p>&ldquo;For predefined value types, the equality operator (==) returns true if the values of its operands are equal, false otherwise. For reference types other than string, == returns true if its two operands refer to the same object. For the string type, == compares the values of the strings.&rdquo;</p>
<p>Above, what does &ldquo;same object&rdquo; mean? An object occupying the same memory address?</p>
<p>.. constant versus instance, read this:</p>
<p><a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/equality-comparison-operator">https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/equality-comparison-operator</a></p>
<p>Equals requires an object to exist
<a href="https://stackoverflow.com/a/144562">https://stackoverflow.com/a/144562</a></p>
<p><a href="http://thedailywtf.com/articles/SkillsEquals(null)">http://thedailywtf.com/articles/SkillsEquals(null)</a></p>
<p>The == operator returns true if two objects are the same object.</p>
<h3 id="value-types">Value Types</h3>
<p>in C#</p>
<p>Below is the resulting IL code for:</p>
<pre><code class="language-int" data-lang="int">
if (a == 1) {}
</code></pre><p>IL_0000:  nop      <br>
IL_0001:  ldc.i4.1 <br>
IL_0002:  stloc.0     // a
IL_0003:  ldloc.0     // a
IL_0004:  ldc.i4.1 <br>
IL_0005:  ceq      <br>
IL_0007:  stloc.1  <br>
IL_0008:  ldloc.1  <br>
IL_0009:  brfalse.s   IL_000D
IL_000B:  nop      <br>
IL_000C:  nop      <br>
IL_000D:  ret</p>
<p>Below is the resulting IL code from using .Equals on a value type.</p>
<p>the main reason I know of overriding .Equals for a value type is described here:</p>
<p><a href="https://msdn.microsoft.com/en-us/library/2dts52z7(v=vs.110).aspx">https://msdn.microsoft.com/en-us/library/2dts52z7(v=vs.110).aspx</a></p>
<p>quote:
Particularly if your value type contains fields that are reference types, you should override the Equals(Object) method. This can improve performance and enable you to more closely represent the meaning of equality for the type.</p>
<pre><code class="language-int" data-lang="int">if (a.Equals(1)) { }
</code></pre><p>IL_0000:  nop      <br>
IL_0001:  ldc.i4.1 <br>
IL_0002:  stloc.0     // a
IL_0003:  ldloca.s    00 // a
IL_0005:  ldc.i4.1 <br>
IL_0006:  call        System.Int32.Equals
IL_000B:  stloc.1  <br>
IL_000C:  ldloc.1  <br>
IL_000D:  brfalse.s   IL_0011
IL_000F:  nop      <br>
IL_0010:  nop      <br>
IL_0011:  ret</p>

		</div>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Byron Gerlach avatar" src="/img/avatar_pipe.png" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Byron Gerlach</span>
	</div>
	<div class="authorbox__description">
		Byron Gerlach is a software developer in Portland, OR.
	</div>
</div>



			</div>
			
		</div>
			</div>
		<footer class="footer" itemscope="itemscope" itemtype="http://schema.org/WPFooter">
			<div class="container container-inner">
				<p class="footer__copyright">&copy; 2021 One Problem Solved. <span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad theme</a>.</span></p>
			</div>
		</footer>
	</div>

<script>
	var navigation = responsiveNav(".menu", {
		navClass: "menu--collapse",
	});
</script>
<script src="/js/prism.js"></script>
</body>
</html>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>